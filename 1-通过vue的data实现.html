<!DOCTYPE html>
<html lang="en">
<body>
  <div id="app">
    <h3>vue 通过data属性实现防抖节流</h3>
    <p>tips: 请打开控制台观察打印变化</p>
    <input placeholder="输入以测试防抖" @input="onDebounce">
    <input placeholder="输入以测试节流" @input="onThrottle">
  </div>
</body>
</html>

<script src="https://cdn.jsdelivr.net/npm/vue"></script>
<script>
  new Vue({
    el: '#app',
    methods: {
      onDebounce() {
        clearTimeout(this.debounceTimer)
        this.debounceTimer = setTimeout(() => {
          console.log('防抖...')
        }, 500)
      },
      
      onThrottle() {
        if (this.throttleCanRun === undefined) {
          this.throttleCanRun = true
        }
        if (!this.throttleCanRun) return
        this.throttleCanRun = false
        setTimeout(() => {
          console.log('节流...')
          this.throttleCanRun = true
        }, 500) 
      },
    }
  })
</script>